(function(){
    var fieldset = $('.js-quota-country-picker');
    $('.js-quota-country-picker-select').select2({
      width: '100%',
      minimumInputLength: 2,
      ajax: {
        delay: 300,
        url: '<%= Rails.application.routes.url_helpers.geographical_areas_path(format: :json) %>'
      }
    });
    fieldset.on('click', 'a.reset-country-picker', function (e) {
      $('.js-quota-country-picker-select').val(null).trigger("change");
      return false;
    });
    $('form.quota-search#new_search').submit(function(){
      $(this).find(':input[type=submit]').prop('disabled', true);
    });
  }
)();